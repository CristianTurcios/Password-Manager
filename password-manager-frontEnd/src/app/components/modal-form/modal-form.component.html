<div class="modal-header">
    <h4 class="modal-title">Secure Vault</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss('Cross click')"></button>
</div>
<div class="modal-body">
    <form [formGroup]="modalForm">
        <div class="row">
            <div class="col-sm-12 col-xs-12 col-md-12">
                <div class="form-floating mt-3">
                    <input type="text" class="form-control" placeholder="url" aria-label="Url" name="url" required
                        formControlName="url">
                    <label for="url">* Url</label>
                </div>
                <div class="invalid" *ngIf="form.url.invalid && (form.url.touched || form.url.dirty)">
                    * Missing or incorrect value
                    e.g: www.google.com
                </div>
            </div>
            <div class="col-sm-12 col-xs-12 col-md-12">
                <div class="form-floating mt-3">
                    <input type="text" class="form-control" placeholder="name" aria-label="Website Name" name="name"
                        required formControlName="name">
                    <label for="name">* Name</label>
                </div>
                <div class="invalid" *ngIf="form.name.invalid && (form.name.touched || form.name.dirty)">
                    * Missing or incorrect value
                </div>
            </div>
            <div class="col-sm-12 col-xs-12 col-md-6">
                <div class="form-floating mt-3">
                    <input type="text" class="form-control" placeholder="username" aria-label="username" name="username"
                        required formControlName="username">
                    <label for="username">* Username</label>
                </div>
                <div class="invalid" *ngIf="form.username.invalid && (form.username.touched || form.username.dirty)">
                    * Missing or incorrect value
                </div>
            </div>
            <div class="col-sm-12 col-xs-12 col-md-6">
                <div class="input-group mt-3">
                    <div class="form-floating">
                        <input [type]="show ? 'text' : 'password'" class="form-control password" placeholder="password"
                            aria-label="Password" name="password" required formControlName="password">
                        <label for="password" class="form-label">* Password</label>
                    </div>
                    <span class="input-group-text copy-icon" [cdkCopyToClipboard]="form.password.value">
                        <fa-icon [icon]="faCopy" ngbTooltip="Copied" triggers="click:blur"></fa-icon>
                    </span>
                    <span class="input-group-text show-icon" (click)="togglePasswordVisibility()">
                        <fa-icon *ngIf="show" [icon]="faEye" ngbTooltip="Hide"></fa-icon>
                        <fa-icon *ngIf="!show" [icon]="faEyeSlash" ngbTooltip="Show"></fa-icon>
                    </span>
                </div>
                <div class="invalid" *ngIf="form.password.invalid && (form.password.touched || form.password.dirty)">
                    * Missing or incorrect value
                </div>
            </div>
            <hr class="mt-3">
            <div class="d-flex justify-content-end">
                <button class="btn btn-success" [disabled]="modalForm.pristine || modalForm.invalid || isLoading"
                    (click)="onSubmit()">
                    {{ isLoading ? 'Saving...' : 'Save'}}
                    <span *ngIf="isLoading" class="spinner-grow spinner-grow-sm" role="status"
                        aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </form>
</div>